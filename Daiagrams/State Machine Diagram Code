@startuml
[*] --> Created : Task Created
Created --> Assigned : Assigned to User
Assigned --> InProgress : User Started Working
InProgress --> Completed : User Marked as Complete
InProgress --> Expired : Due Date Passed Without Completion (No Points Lost)
InProgress --> Canceled : Task Canceled by Parent/Admin

Completed --> PointsAwarded : User Receives Points
PointsAwarded --> RewardsUpdated : Rewards Updated for User
RewardsUpdated --> [*] : Task Fully Processed

Expired --> NoChange : Task Expired, No Points Deducted
NoChange --> [*] : Task Closed Without Penalty

Canceled --> [*] : Task No Longer Available

' Firestore Integration
Created : "Stored in Firestore\nFields: id, title, description, assignedTo, dueDate, status='Created'"
Assigned : "Status = 'Assigned'\nUser notified via Firebase update"
InProgress : "Status = 'InProgress'\nUser is actively working on it"
Completed : "Status = 'Completed'\nPoints allocated based on difficulty"
Expired : "Status = 'Expired'\nUser didn't finish in time, No penalty applied"
Canceled : "Status = 'Canceled'\nParent/Admin canceled the task"
PointsAwarded : "Firestore: user.points += task.points"
RewardsUpdated : "Firestore: user.rewards updated with new points"

@enduml
