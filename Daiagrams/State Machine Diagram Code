@startuml
state "User Interaction" as UserInteraction {
  [*] --> LoggedOut
  LoggedOut --> LoggingIn : Enter credentials
  LoggingIn --> Authenticated : Authentication successful
  LoggingIn --> LoggedOut : Authentication failed
  Authenticated --> CreatingProfile : Select 'Create Profile'
}

state "Parent Interaction" as ParentInteraction {
  [*] --> ViewingTasks
  ViewingTasks --> CreatingTask : Select 'Create Task'
  CreatingTask --> ViewingTasks : Task saved
}

state "Child Interaction" as ChildInteraction {
  [*] --> ViewingTasks
  ViewingTasks --> CompletingTask : Select 'Complete Task'
  CompletingTask --> ViewingTasks : Task marked complete
}

state "Profile Creation" as ProfileCreation {
  [*] --> SelectingRole
  SelectingRole --> ParentProfile : Choose 'Parent'
  SelectingRole --> ChildProfile : Choose 'Child'
  ParentProfile --> Completed : Profile created
  ChildProfile --> Completed : Profile created
}

state System {
  [*] --> UserInteraction
  UserInteraction --> ParentInteraction : Parent logs in
  UserInteraction --> ChildInteraction : Child logs in
  UserInteraction --> ProfileCreation : Create new profile
}
@enduml
